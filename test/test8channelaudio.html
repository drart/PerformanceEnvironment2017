<!DOCTYPE html>
<head>
    <title>Multichanneltest</title>
</head>
<body>
    <div id="flockchans"></div>
    <input type="checkbox" id="one">
    <input type="checkbox" id="two">
    <input type="checkbox" id="three">
    <input type="checkbox" id="four">
    <input type="checkbox" id="five">
    <input type="checkbox" id="six">
    <input type="checkbox" id="seven">
    <input type="checkbox" id="eight">
    <input type="range" id="vol">Volume <br/>
    <script src="../node_modules/flocking/dist/flocking-all.js"></script>
    <script src="../adam.js"></script>
    <script>

        var vols = 0.25;

        /*
        flock.init({
            numBusses: 64,
            chans: 16 
        });
        */

        flock.init({
            chans: 8
        });

        var synth = adam.octopus();

        flock.enviro.shared.play();

        document.getElementById("flockchans").innerHTML = flock.enviro.shared.audioSystem.model.chans;

        document.getElementById("one").onclick = function(e){
            if( this.checked === true){
                synth.set("f1.mul", vols);
                }else{
                    synth.set("f1.mul", 0);
                }
        };
        document.getElementById("two").onclick = function(e){
            if( this.checked === true){
                synth.set("f2.mul", vols);
                }else{
                    synth.set("f2.mul", 0);
                }
        };
        document.getElementById("three").onclick = function(e){
            if( this.checked === true){
                synth.set("f3.mul", vols);
                }else{
                    synth.set("f3.mul", 0);
                }
        };
        document.getElementById("four").onclick = function(e){
            if( this.checked === true){
                synth.set("f4.mul", vols);
                }else{
                    synth.set("f4.mul", 0);
                }
        };
        document.getElementById("five").onclick = function(e){
            if( this.checked === true){
                synth.set("f5.mul", vols);
                }else{
                    synth.set("f5.mul", 0);
                }
        };
        document.getElementById("six").onclick = function(e){
            if( this.checked === true){
                synth.set("f6.mul", vols);
                }else{
                    synth.set("f6.mul", 0);
                }
        };
        document.getElementById("seven").onclick = function(e){
            if( this.checked === true){
                synth.set("f7.mul", vols);
                }else{
                    synth.set("f7.mul", 0);
                }
        };
        document.getElementById("eight").onclick = function(e){
            if( this.checked === true){
                synth.set("f8.mul", vols);
                }else{
                    synth.set("f8.mul", 0);
                }
        };
        document.getElementById("vol").oninput = function(event){
            vols = adam.dbtorms(this.value);
            synth.setallvol(this.value);
        };
    </script>
</body>
</html>
